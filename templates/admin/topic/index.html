[% WRAPPER 'admin/bar.html' %]

<div class='one'>
<form method='POST' action='/admin/topic/batch_ban'>

<p>
    [% IF c.req.params.banned %]
    <input type='submit' name='ban' value='Batch unBan' />
    <input type='hidden' name='unban' value='1' />
    [% ELSE %]
    <input type='submit' name='ban' value='Batch Ban' />
    [% END %]
</p>
<p><input type='button' name='selectall' value='Select All' onclick='javascript:SelectAll()' />
   <input type='button' name='selectnone' value='Select None' onclick='javascript:SelectNone()' />
</p>

<table align='center'>
<tr class='title'><td colspan='3'>Topic List</td></tr>
<tr class='misc2'><td>ID</td><td>Title</td><td>ACTION</td></tr>
[% FOREACH t IN topics %]
<tr class='misc[% IF loop.count mod 2;'2';ELSE;'1';END; %]'>
    <td><input type='checkbox' name='topic_id' value='[% t.topic_id %]' /> [% t.topic_id %]</td><td><a href='/forum/[% t.forum_id %]/[% t.topic_id %]'>[% t.title %]</a></td><td><a href='/forum/[% t.forum_id %]/topic/[% t.topic_id %]/ban'>Ban</a> </td>
</tr>
[% END %]
<tr class='misc1'><td colspan='3'>[% INCLUDE 'sub/pager.html' %]</td></tr>
</table>
</div>
</form>

[% END %]

<script type="text/javascript">

function SelectAll() {
    $("input[name=topic_id]").each(function() {
        this.checked = true;
    } );
}
function SelectNone() {
    $("input[name=topic_id]").each(function() {
        this.checked = false;
    } );
}

</script>